[gd_scene load_steps=36 format=3 uid="uid://b5qdqaaw2hat6"]

[ext_resource type="Script" path="res://player/scripts/player_manager.gd" id="1_3hyi7"]
[ext_resource type="Script" path="res://player/scripts/player_controller.gd" id="1_kt7rl"]
[ext_resource type="Script" path="res://player/scripts/player_movement.gd" id="2_02ofg"]
[ext_resource type="SpriteFrames" uid="uid://dlj10bsjifa2w" path="res://player/resources/player_animations.tres" id="2_mc37b"]
[ext_resource type="Script" path="res://player/scripts/player_animation_controller.gd" id="3_eywrf"]
[ext_resource type="Resource" uid="uid://cjeut3m67l1iw" path="res://player/resources/player_movement_data.tres" id="3_pti2n"]
[ext_resource type="Script" path="res://player/scripts/player_attack.gd" id="7_bi60k"]
[ext_resource type="Script" path="res://addons/godot_state_charts/state_chart.gd" id="9_2qwus"]
[ext_resource type="Script" path="res://basic_hurt_box.gd" id="9_obpaw"]
[ext_resource type="AudioStream" uid="uid://cwsdi5ldyv0lw" path="res://sounds/FootstepsConcrete1.wav" id="9_oy0ya"]
[ext_resource type="Script" path="res://player/scripts/player_incoming_atttack.gd" id="9_t1hns"]
[ext_resource type="Script" path="res://addons/godot_state_charts/parallel_state.gd" id="9_uli4m"]
[ext_resource type="Resource" uid="uid://dchkf655ulbpo" path="res://player/resources/player_attack_data.tres" id="10_j7iwd"]
[ext_resource type="Script" path="res://hp.gd" id="10_kupgm"]
[ext_resource type="Script" path="res://addons/godot_state_charts/compound_state.gd" id="10_pcuc3"]
[ext_resource type="AudioStream" uid="uid://bu3onseqxqxr4" path="res://sounds/FootstepsConcrete2.wav" id="10_q0hud"]
[ext_resource type="Script" path="res://hit_box.gd" id="10_urtlw"]
[ext_resource type="Script" path="res://addons/godot_state_charts/atomic_state.gd" id="11_2qsfj"]
[ext_resource type="Script" path="res://addons/godot_state_charts/transition.gd" id="11_6k34h"]
[ext_resource type="Resource" uid="uid://1t3p7jbrvaq" path="res://player/resources/player_hp_data.tres" id="11_g58xn"]
[ext_resource type="AudioStream" uid="uid://v22gujduwi5g" path="res://sounds/FootstepsConcrete3.wav" id="11_gekf0"]
[ext_resource type="AudioStream" uid="uid://b6esg2k4522sy" path="res://sounds/FootstepsConcrete4.wav" id="12_wnwo5"]
[ext_resource type="AudioStream" uid="uid://dct4fg1tvg7qi" path="res://sounds/Stone Jump.wav" id="13_iyue5"]
[ext_resource type="Script" path="res://addons/godot_state_charts/history_state.gd" id="14_q66h4"]
[ext_resource type="AudioStream" uid="uid://cxktq6j2fvd4" path="res://sounds/Stone Land.wav" id="14_xuuq1"]
[ext_resource type="AudioStream" uid="uid://bbsjq5robft73" path="res://sounds/Sword Attack.wav" id="15_qse1v"]
[ext_resource type="AudioStream" uid="uid://hv2thntfkg2r" path="res://sounds/Player hurt.wav" id="16_6w1kj"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_20xhv"]
size = Vector2(20, 64)

[sub_resource type="Resource" id="Resource_86q88"]
script = ExtResource("9_t1hns")
direction = Vector2(0, 0)
damage = 1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qtmv3"]
size = Vector2(26, 20)

[sub_resource type="Animation" id="Animation_wpmyo"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(13, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:position:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:shape:size:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(26, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath(".:shape:size:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(20, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_ilts5"]
resource_name = "hitbox_animation"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.9),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(13, -0.25, 0, 0.25, 0, 28, -0.25, 0, 0.25, 0, 13, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 0.9)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:position:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 0.9)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:shape:size:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(26, -0.25, 0, 0.25, 0, 56, -0.25, 0, 0.25, 0, 26, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 0.9)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath(".:shape:size:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(20, -0.25, 0, 0.25, 0, 20, -0.25, 0, 0.25, 0, 20, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 0.9)
}
tracks/5/type = "method"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("../../../StateChart")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(1),
"transitions": PackedFloat32Array(1),
"values": [{
"args": ["attack_end"],
"method": &"send_event"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_fmbkw"]
_data = {
"RESET": SubResource("Animation_wpmyo"),
"hitbox_animation": SubResource("Animation_ilts5")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_v2tum"]
size = Vector2(20, 64)

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_jc71w"]
streams_count = 4
stream_0/stream = ExtResource("9_oy0ya")
stream_0/weight = 1.0
stream_1/stream = ExtResource("10_q0hud")
stream_1/weight = 1.0
stream_2/stream = ExtResource("11_gekf0")
stream_2/weight = 1.0
stream_3/stream = ExtResource("12_wnwo5")
stream_3/weight = 1.0

[node name="Player" type="CharacterBody2D" groups=["player"]]
top_level = true
collision_mask = 20
script = ExtResource("1_3hyi7")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = ExtResource("2_mc37b")
animation = &"attack"

[node name="CharacterBodyShape" type="CollisionShape2D" parent="."]
position = Vector2(-1, 0)
shape = SubResource("RectangleShape2D_20xhv")
debug_color = Color(0, 0.6, 0.701961, 0.419608)

[node name="PlayerController" type="Node" parent="." node_paths=PackedStringArray("movement_component", "attack_component", "state_chart", "root")]
script = ExtResource("1_kt7rl")
movement_component = NodePath("../PlayerMovement")
attack_component = NodePath("../PlayerAttack")
state_chart = NodePath("../StateChart")
root = NodePath("..")

[node name="PlayerAnimationController" type="Node" parent="." node_paths=PackedStringArray("state_chart", "animated_sprite")]
script = ExtResource("3_eywrf")
state_chart = NodePath("../StateChart")
animated_sprite = NodePath("../AnimatedSprite2D")

[node name="PlayerMovement" type="Node" parent="." node_paths=PackedStringArray("character_body")]
script = ExtResource("2_02ofg")
movement_data = ExtResource("3_pti2n")
character_body = NodePath("..")

[node name="PlayerAttack" type="Node2D" parent="." node_paths=PackedStringArray("movement_component")]
script = ExtResource("7_bi60k")
attack_data = ExtResource("10_j7iwd")
movement_component = NodePath("../PlayerMovement")
hit_box_animation_name = &"hitbox_animation"

[node name="HitBox" type="Area2D" parent="PlayerAttack"]
position = Vector2(0, -10)
collision_mask = 14
script = ExtResource("10_urtlw")
hittable_groups = Array[StringName]([&"enemy", &"bullet"])
attack_data = SubResource("Resource_86q88")

[node name="HitBoxShape" type="CollisionShape2D" parent="PlayerAttack/HitBox"]
position = Vector2(13, 0)
shape = SubResource("RectangleShape2D_qtmv3")
disabled = true
debug_color = Color(0.988235, 0, 0, 0.419608)

[node name="HitBoxShapeAnimation" type="AnimationPlayer" parent="PlayerAttack"]
root_node = NodePath("../HitBox/HitBoxShape")
libraries = {
"": SubResource("AnimationLibrary_fmbkw")
}

[node name="BasicHurtBox" type="Area2D" parent="." groups=["player"]]
script = ExtResource("9_obpaw")

[node name="HP" type="Node" parent="BasicHurtBox"]
script = ExtResource("10_kupgm")
hp_data = ExtResource("11_g58xn")

[node name="CollisionShape2D" type="CollisionShape2D" parent="BasicHurtBox"]
shape = SubResource("RectangleShape2D_v2tum")
debug_color = Color(0.0156863, 1, 0, 0.419608)

[node name="PlayerSounds" type="Node2D" parent="."]

[node name="FootSteps" type="AudioStreamPlayer2D" parent="PlayerSounds"]
stream = SubResource("AudioStreamRandomizer_jc71w")

[node name="Jump" type="AudioStreamPlayer2D" parent="PlayerSounds"]
stream = ExtResource("13_iyue5")

[node name="Land" type="AudioStreamPlayer2D" parent="PlayerSounds"]
stream = ExtResource("14_xuuq1")

[node name="Attack" type="AudioStreamPlayer2D" parent="PlayerSounds"]
stream = ExtResource("15_qse1v")

[node name="Hurt" type="AudioStreamPlayer2D" parent="PlayerSounds"]
stream = ExtResource("16_6w1kj")

[node name="StateChart" type="Node" parent="."]
script = ExtResource("9_2qwus")
track_in_editor = true

[node name="ParallelState" type="Node" parent="StateChart"]
script = ExtResource("9_uli4m")

[node name="LogicStates" type="Node" parent="StateChart/ParallelState"]
editor_description = "Эти состояния используются для внутренней логики игрока, то есть, они тесно связаны с самими механиками.

Для анимаций используется отдельная ветка."
script = ExtResource("9_uli4m")

[node name="MovingStates" type="Node" parent="StateChart/ParallelState/LogicStates"]
editor_description = "Здесь состояния движения по горизонтали."
script = ExtResource("10_pcuc3")
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateChart/ParallelState/LogicStates/MovingStates"]
script = ExtResource("11_2qsfj")

[node name="OnStartMoving" type="Node" parent="StateChart/ParallelState/LogicStates/MovingStates/Idle"]
script = ExtResource("11_6k34h")
to = NodePath("../../Moving")
event = &"start_moving"

[node name="Moving" type="Node" parent="StateChart/ParallelState/LogicStates/MovingStates"]
script = ExtResource("11_2qsfj")

[node name="OnStopMoving" type="Node" parent="StateChart/ParallelState/LogicStates/MovingStates/Moving"]
script = ExtResource("11_6k34h")
to = NodePath("../../Idle")
event = &"stop_moving"

[node name="Jump&FallStates" type="Node" parent="StateChart/ParallelState/LogicStates"]
editor_description = "Здесь состояния движения по вертикали."
script = ExtResource("10_pcuc3")
initial_state = NodePath("InAir")

[node name="InAir" type="Node" parent="StateChart/ParallelState/LogicStates/Jump&FallStates"]
script = ExtResource("11_2qsfj")

[node name="OnLand" type="Node" parent="StateChart/ParallelState/LogicStates/Jump&FallStates/InAir"]
script = ExtResource("11_6k34h")
to = NodePath("../../CanJump/Grounded")
event = &"land"

[node name="OnWallCollision" type="Node" parent="StateChart/ParallelState/LogicStates/Jump&FallStates/InAir"]
editor_description = "Игрок начал скользить по стене."
script = ExtResource("11_6k34h")
to = NodePath("../../CanJump/OnWall")
event = &"wall_collision"

[node name="CanJump" type="Node" parent="StateChart/ParallelState/LogicStates/Jump&FallStates"]
editor_description = "Во всей этой ветке состояний можно осуществить прыжок."
script = ExtResource("10_pcuc3")
initial_state = NodePath("Grounded")

[node name="OnJump" type="Node" parent="StateChart/ParallelState/LogicStates/Jump&FallStates/CanJump"]
script = ExtResource("11_6k34h")
to = NodePath("../../InAir")
event = &"jump"

[node name="OnFall" type="Node" parent="StateChart/ParallelState/LogicStates/Jump&FallStates/CanJump"]
script = ExtResource("11_6k34h")
to = NodePath("../../InAir")
event = &"fall"

[node name="Grounded" type="Node" parent="StateChart/ParallelState/LogicStates/Jump&FallStates/CanJump"]
script = ExtResource("11_2qsfj")

[node name="OnWall" type="Node" parent="StateChart/ParallelState/LogicStates/Jump&FallStates/CanJump"]
editor_description = "Игрок скользит по стене."
script = ExtResource("11_2qsfj")

[node name="OnLand" type="Node" parent="StateChart/ParallelState/LogicStates/Jump&FallStates/CanJump/OnWall"]
script = ExtResource("11_6k34h")
to = NodePath("../../Grounded")
event = &"land"

[node name="AttackStates" type="Node" parent="StateChart/ParallelState/LogicStates"]
script = ExtResource("10_pcuc3")
initial_state = NodePath("CanAttack")

[node name="AttackCooldown" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates"]
script = ExtResource("11_2qsfj")

[node name="OnAttackRedy" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates/AttackCooldown"]
script = ExtResource("11_6k34h")
to = NodePath("../../CanAttack/CanWeakAttack")
event = &"attack_ready"

[node name="Attacking" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates"]
editor_description = "Игрок находится в состоянии атаки. Пока текущая атака не закончилась, новую начать нельзя."
script = ExtResource("11_2qsfj")

[node name="OnAttackEnd" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates/Attacking"]
script = ExtResource("11_6k34h")
to = NodePath("../../AttackCooldown")
event = &"attack_end"

[node name="CanAttack" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates"]
script = ExtResource("10_pcuc3")
initial_state = NodePath("CanWeakAttack")

[node name="OnAttack" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates/CanAttack"]
script = ExtResource("11_6k34h")
to = NodePath("../../Attacking")
event = &"attack"

[node name="CanStrongAttack" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates/CanAttack"]
script = ExtResource("11_2qsfj")

[node name="CanWeakAttack" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates/CanAttack"]
script = ExtResource("11_2qsfj")

[node name="OnLand" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates/CanAttack/CanWeakAttack"]
script = ExtResource("11_6k34h")
to = NodePath("../../CanStrongAttack")
event = &"land"

[node name="OnWallCollision" type="Node" parent="StateChart/ParallelState/LogicStates/AttackStates/CanAttack/CanWeakAttack"]
editor_description = "Игрок начал скользить по стене."
script = ExtResource("11_6k34h")
to = NodePath("../../CanStrongAttack")
event = &"wall_collision"

[node name="AnimationStates" type="Node" parent="StateChart/ParallelState"]
editor_description = "Эта ветка состояний отвечает только за анимации и не связана с логикой механик игрока.

Суть в том, что анимации не всегда совпадают с логическими состояниями, например, с точки зрения логики нахождение в воздухе является единым состоянием, а для анимаций различается сам прыжок и падение."
script = ExtResource("10_pcuc3")
initial_state = NodePath("NonCombatAnimations")

[node name="NonCombatAnimations" type="Node" parent="StateChart/ParallelState/AnimationStates"]
editor_description = "Эта ветка отвечает за анимации, которые не связаны с боем: ходьба, прыжок, падение и подобное."
script = ExtResource("10_pcuc3")
initial_state = NodePath("MovingAnimations")

[node name="GoToLastAnimation" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations"]
script = ExtResource("14_q66h4")
default_state = NodePath("../MovingAnimations/IdleAnimation")

[node name="OnAttack" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations"]
script = ExtResource("11_6k34h")
to = NodePath("../../Attack")
event = &"attack"

[node name="MovingAnimations" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations"]
editor_description = "Анимации, связанные с движением игрока по горизонтали."
script = ExtResource("10_pcuc3")
initial_state = NodePath("IdleAnimation")

[node name="OnJump" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/MovingAnimations"]
script = ExtResource("11_6k34h")
to = NodePath("../../AirborneAnimations/Jump")
event = &"jump"

[node name="OnFall" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/MovingAnimations"]
script = ExtResource("11_6k34h")
to = NodePath("../../AirborneAnimations/Falling")
event = &"fall"

[node name="IdleAnimation" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/MovingAnimations"]
script = ExtResource("11_2qsfj")

[node name="OnStartMoving" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/MovingAnimations/IdleAnimation"]
script = ExtResource("11_6k34h")
to = NodePath("../../RunAnimation")
event = &"start_moving"

[node name="RunAnimation" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/MovingAnimations"]
script = ExtResource("11_2qsfj")

[node name="OnStopMoving" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/MovingAnimations/RunAnimation"]
script = ExtResource("11_6k34h")
to = NodePath("../../IdleAnimation")
event = &"stop_moving"

[node name="AirborneAnimations" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations"]
editor_description = "Эта ветка отвечает за анимации при движении игрока по вертикали (прыжок, падение, скольжение по стенам)."
script = ExtResource("10_pcuc3")
initial_state = NodePath("Falling")

[node name="OnLand" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations"]
script = ExtResource("11_6k34h")
to = NodePath("../../MovingAnimations/IdleAnimation")
event = &"land"

[node name="OnFall" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations"]
script = ExtResource("11_6k34h")
to = NodePath("../Falling")
event = &"fall"

[node name="OnWallCollision" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations"]
script = ExtResource("11_6k34h")
to = NodePath("../OnWall")
event = &"wall_collision"

[node name="Jump" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations"]
script = ExtResource("11_2qsfj")

[node name="Falling" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations"]
script = ExtResource("11_2qsfj")

[node name="OnWall" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations"]
script = ExtResource("11_2qsfj")

[node name="OnJump" type="Node" parent="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations/OnWall"]
script = ExtResource("11_6k34h")
to = NodePath("../../Jump")
event = &"jump"

[node name="Attack" type="Node" parent="StateChart/ParallelState/AnimationStates"]
script = ExtResource("11_2qsfj")

[node name="OnAttackEnd" type="Node" parent="StateChart/ParallelState/AnimationStates/Attack"]
script = ExtResource("11_6k34h")
to = NodePath("../../NonCombatAnimations/GoToLastAnimation")
event = &"attack_end"

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, -15)
zoom = Vector2(1.3, 1.3)
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_left_margin = 0.05
drag_top_margin = 0.05
drag_right_margin = 0.05
drag_bottom_margin = 0.05
editor_draw_limits = true
editor_draw_drag_margin = true

[connection signal="frame_changed" from="AnimatedSprite2D" to="PlayerAnimationController" method="_on_animated_sprite_2d_frame_changed"]
[connection signal="step" from="PlayerAnimationController" to="PlayerSounds/FootSteps" method="play"]
[connection signal="character_look_left" from="PlayerMovement" to="PlayerAnimationController" method="player_look_left"]
[connection signal="character_look_right" from="PlayerMovement" to="PlayerAnimationController" method="player_look_right"]
[connection signal="attack" from="PlayerAttack" to="PlayerController" method="_on_player_attack_attack"]
[connection signal="attack_ready" from="PlayerAttack" to="PlayerController" method="_on_player_attack_attack_ready"]
[connection signal="hit" from="PlayerAttack/HitBox" to="PlayerController" method="_on_hit_box_hit"]
[connection signal="hurt" from="BasicHurtBox" to="PlayerController" method="_on_basic_hurt_box_hurt"]
[connection signal="state_physics_processing" from="StateChart/ParallelState/LogicStates/MovingStates" to="PlayerController" method="_on_moving_states_state_physics_processing"]
[connection signal="state_physics_processing" from="StateChart/ParallelState/LogicStates/Jump&FallStates" to="PlayerController" method="_on_jump_fall_states_state_physics_processing"]
[connection signal="state_unhandled_input" from="StateChart/ParallelState/LogicStates/Jump&FallStates/CanJump" to="PlayerController" method="_on_can_jump_state_unhandled_input"]
[connection signal="state_unhandled_input" from="StateChart/ParallelState/LogicStates/AttackStates/CanAttack/CanStrongAttack" to="PlayerController" method="_on_can_strong_attack_state_unhandled_input"]
[connection signal="state_unhandled_input" from="StateChart/ParallelState/LogicStates/AttackStates/CanAttack/CanWeakAttack" to="PlayerController" method="_on_can_weak_attack_state_unhandled_input"]
[connection signal="state_entered" from="StateChart/ParallelState/AnimationStates/NonCombatAnimations/MovingAnimations/IdleAnimation" to="PlayerAnimationController" method="_on_idle_animation_state_entered"]
[connection signal="state_entered" from="StateChart/ParallelState/AnimationStates/NonCombatAnimations/MovingAnimations/RunAnimation" to="PlayerAnimationController" method="_on_run_animation_state_entered"]
[connection signal="taken" from="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations/OnLand" to="PlayerSounds/Land" method="play"]
[connection signal="state_entered" from="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations/Jump" to="PlayerAnimationController" method="_on_jump_state_entered"]
[connection signal="state_entered" from="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations/Jump" to="PlayerSounds/Jump" method="play"]
[connection signal="state_entered" from="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations/Falling" to="PlayerAnimationController" method="_on_falling_state_entered"]
[connection signal="state_entered" from="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations/OnWall" to="PlayerAnimationController" method="_on_on_wall_state_entered"]
[connection signal="state_exited" from="StateChart/ParallelState/AnimationStates/NonCombatAnimations/AirborneAnimations/OnWall" to="PlayerAnimationController" method="_on_on_wall_state_exited"]
[connection signal="state_entered" from="StateChart/ParallelState/AnimationStates/Attack" to="PlayerAnimationController" method="_on_attack_state_entered"]
[connection signal="state_entered" from="StateChart/ParallelState/AnimationStates/Attack" to="PlayerSounds/Attack" method="play"]
